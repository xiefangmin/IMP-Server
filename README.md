# ğŸ–¼ï¸ AIå›¾åƒå¤„ç†ä¸­å¿ƒ

ä¸€ä¸ªåŸºäºC++å’ŒOpenCVçš„é«˜æ€§èƒ½å›¾åƒå¤„ç†WebæœåŠ¡å™¨ï¼Œé›†æˆäº†å¤šç§ä¼ ç»Ÿå›¾åƒæ»¤é•œå’ŒAIæ·±åº¦å­¦ä¹ åŠŸèƒ½ï¼Œæ”¯æŒå®æ—¶å›¾åƒåˆ†å‰²ã€ç›®æ ‡æ£€æµ‹å’Œæ™ºèƒ½æ»¤é•œå¤„ç†ã€‚

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![C++](https://img.shields.io/badge/C%2B%2B-17-blue.svg)
![OpenCV](https://img.shields.io/badge/OpenCV-4.x-green.svg)
![Platform](https://img.shields.io/badge/platform-Linux%20%7C%20Windows-lightgrey.svg)
![AI](https://img.shields.io/badge/AI-YOLOv8-orange.svg)

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¨ ä¼ ç»Ÿå›¾åƒæ»¤é•œ
- **åŸºç¡€æ»¤é•œ**: ç°åº¦è½¬æ¢ã€é«˜æ–¯æ¨¡ç³Šã€Cannyè¾¹ç¼˜æ£€æµ‹
- **è‰ºæœ¯æ»¤é•œ**: å¤å¤æ£•è¤è‰²ã€æµ®é›•æ•ˆæœã€å¡é€šåŒ–ã€æ²¹ç”»æ•ˆæœ
- **æ™ºèƒ½æ§åˆ¶**: é«˜æ–¯æ¨¡ç³Šå’Œé”åŒ–æ»¤é•œæ”¯æŒå¼ºåº¦æ»‘åŠ¨æ¡æ§åˆ¶

### ğŸ¤– AIæ·±åº¦å­¦ä¹ 
- **YOLOv8ç›®æ ‡æ£€æµ‹**: æ”¯æŒ80ç§COCOæ•°æ®é›†ç‰©ä½“ç±»åˆ«
- **YOLOv8å›¾åƒåˆ†å‰²**: ç²¾ç¡®çš„åƒç´ çº§åˆ†å‰²ï¼Œæ”¯æŒå¤šç§åˆ†å‰²æ¨¡å¼
- **å®æ—¶æ¨ç†**: åŸºäºONNXæ ¼å¼çš„é«˜æ•ˆCPUæ¨ç†

### ğŸŒ ç°ä»£åŒ–Webç•Œé¢
- **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **æ‹–æ‹½ä¸Šä¼ **: ç›´è§‚çš„æ–‡ä»¶ä¸Šä¼ ä½“éªŒ
- **å®æ—¶é¢„è§ˆ**: å¤„ç†ç»“æœå³æ—¶æ˜¾ç¤º
- **å‚æ•°æ§åˆ¶**: å¯è§†åŒ–æ»‘åŠ¨æ¡è°ƒèŠ‚æ»¤é•œå¼ºåº¦

## ğŸ¯ æ”¯æŒçš„å›¾åƒå¤„ç†æ•ˆæœ

### åŸºç¡€æ»¤é•œ
| æ»¤é•œç±»å‹ | æè¿° | è¾“å‡ºæ ¼å¼ | å‚æ•°æ§åˆ¶ |
|---------|------|----------|----------|
| `none` | åŸå›¾ï¼ˆæ— å¤„ç†ï¼‰ | JPEG | - |
| `grayscale` | ç°åº¦è½¬æ¢ | JPEG | - |
| `blur` | é«˜æ–¯æ¨¡ç³Š | JPEG | âœ… å¼ºåº¦æ»‘åŠ¨æ¡ (3-51) |
| `canny` | Cannyè¾¹ç¼˜æ£€æµ‹ | PNG | - |
| `sharpen` | é”åŒ–æ»¤é•œ | JPEG | âœ… å¼ºåº¦æ»‘åŠ¨æ¡ (0.1-3.0) |

### è‰ºæœ¯æ»¤é•œ
| æ»¤é•œç±»å‹ | æè¿° | è¾“å‡ºæ ¼å¼ | æŠ€æœ¯å®ç° |
|---------|------|----------|----------|
| `sepia` | å¤å¤æ£•è¤è‰² | JPEG | é¢œè‰²çŸ©é˜µå˜æ¢ |
| `emboss` | æµ®é›•æ•ˆæœ | JPEG | 3Då·ç§¯æ ¸æ»¤æ³¢ |
| `cartoon` | å¡é€šåŒ–æ•ˆæœ | JPEG | åŒè¾¹æ»¤æ³¢+è¾¹ç¼˜æ£€æµ‹ |
| `oil_painting` | æ²¹ç”»æ•ˆæœ | JPEG | åŒè¾¹æ»¤æ³¢+å¯¹æ¯”åº¦å¢å¼º |

### AIæ·±åº¦å­¦ä¹ 
| åŠŸèƒ½ç±»å‹ | æè¿° | è¾“å‡ºæ ¼å¼ | æ¨¡å‹æ”¯æŒ |
|---------|------|----------|----------|
| `yolo_detect` | YOLOv8ç›®æ ‡æ£€æµ‹ | JPEG | yolov8n.onnx |
| `yolo_segment` | YOLOv8å›¾åƒåˆ†å‰² | JPEG | yolov8x-seg.onnx |
| `yolo_segment_with_boxes` | æ£€æµ‹+åˆ†å‰²ç»„åˆ | JPEG | yolov8x-seg.onnx |

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **æ ¸å¿ƒè¯­è¨€**: C++17
- **å›¾åƒå¤„ç†**: OpenCV 4.x (DNNæ¨¡å—)
- **ç½‘ç»œæ¡†æ¶**: è‡ªå®šä¹‰epollå¼‚æ­¥æœåŠ¡å™¨
- **å¹¶å‘å¤„ç†**: æ™ºèƒ½çº¿ç¨‹æ± 
- **AIæ¨ç†**: ONNX Runtime (é€šè¿‡OpenCV DNN)

### å‰ç«¯æŠ€æœ¯æ ˆ
- **ç•Œé¢**: HTML5 + CSS3 + JavaScript ES6+
- **æ ·å¼**: ç°ä»£åŒ–å“åº”å¼è®¾è®¡
- **äº¤äº’**: æ‹–æ‹½ä¸Šä¼  + å®æ—¶é¢„è§ˆ
- **æ§åˆ¶**: å¯è§†åŒ–æ»‘åŠ¨æ¡å‚æ•°è°ƒèŠ‚

### ç³»ç»Ÿæ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Web Browser   â”‚    â”‚   Mobile App    â”‚    â”‚   API Client    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                      â”‚                      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚ HTTP/HTTPS
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚     Multi-Port Server    â”‚
                    â”‚    (8080-8099)           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      Thread Pool         â”‚
                    â”‚   (Auto CPU Detection)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Image Processor         â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚  â”‚  Traditional Filters â”‚  â”‚
                    â”‚  â”‚  AI Deep Learning   â”‚  â”‚
                    â”‚  â”‚  Parameter Control  â”‚  â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### ä¾èµ–åº“
- **OpenCV 4.x**: éœ€è¦DNNæ¨¡å—æ”¯æŒ
- **CMake 3.16+**: æ„å»ºç³»ç»Ÿ
- **C++17**: ç¼–è¯‘å™¨æ”¯æŒ
- **ONNXæ¨¡å‹**: YOLOv8æ£€æµ‹å’Œåˆ†å‰²æ¨¡å‹

### å¹³å°æ”¯æŒ
- **Linux**: Ubuntu 18.04+, CentOS 7+ (æ¨è)
- **Windows**: Visual Studio 2019+, MinGW
- **macOS**: Xcode 10+ (å®éªŒæ€§æ”¯æŒ)

### ç¡¬ä»¶è¦æ±‚
- **CPU**: å¤šæ ¸å¤„ç†å™¨ (æ¨è4æ ¸ä»¥ä¸Š)
- **å†…å­˜**: 4GB+ RAM
- **å­˜å‚¨**: 500MB+ å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: æ”¯æŒHTTP/HTTPSåè®®

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

#### Ubuntu/Debian
```bash
sudo apt update
sudo apt install libopencv-dev cmake build-essential git
```

#### CentOS/RHEL
```bash
sudo yum install opencv-devel cmake gcc-c++ git
```

#### Windows (vcpkg)
```bash
vcpkg install opencv[contrib]:x64-windows
```

### 2. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/yourusername/ai-image-processor.git
cd ai-image-processor
```

### 3. ä¸‹è½½AIæ¨¡å‹
```bash
# åˆ›å»ºæ¨¡å‹ç›®å½•
mkdir -p models

# ä¸‹è½½YOLOv8ç›®æ ‡æ£€æµ‹æ¨¡å‹
wget https://github.com/ultralytics/assets/releases/download/v0.0.0/yolov8n.onnx -O models/yolov8n.onnx

# ä¸‹è½½YOLOv8å›¾åƒåˆ†å‰²æ¨¡å‹
wget https://github.com/ultralytics/assets/releases/download/v0.0.0/yolov8x-seg.onnx -O models/yolov8x-seg.onnx

# æˆ–ä½¿ç”¨Pythonè„šæœ¬ä¸‹è½½
python download_models.py
```

### 4. ç¼–è¯‘é¡¹ç›®
```bash
mkdir build && cd build
cmake .. -DCMAKE_BUILD_TYPE=Release
make -j$(nproc)

# Windows
cmake .. -G "Visual Studio 16 2019" -A x64
cmake --build . --config Release
```

### 5. è¿è¡ŒæœåŠ¡å™¨
```bash
# ä½¿ç”¨é»˜è®¤ç«¯å£ (8080-8099)
./image_server

# æŒ‡å®šç«¯å£
./image_server 8080 8081 8082

# Windows
image_server.exe 8080 8081 8082
```

### 6. è®¿é—®Webç•Œé¢
æ‰“å¼€æµè§ˆå™¨è®¿é—®: `http://localhost:8080`

## ğŸ“– ä½¿ç”¨æŒ‡å—

### Webç•Œé¢ä½¿ç”¨

#### åŸºç¡€æ“ä½œ
1. **ä¸Šä¼ å›¾ç‰‡**: ç‚¹å‡»ä¸Šä¼ åŒºåŸŸæˆ–æ‹–æ‹½å›¾ç‰‡æ–‡ä»¶
2. **é€‰æ‹©æ»¤é•œ**: ä»ä¸‹æ‹‰èœå•é€‰æ‹©å¤„ç†æ•ˆæœ
3. **è°ƒèŠ‚å‚æ•°**: ä½¿ç”¨æ»‘åŠ¨æ¡è°ƒæ•´æ»¤é•œå¼ºåº¦ï¼ˆå¦‚é€‚ç”¨ï¼‰
4. **å¼€å§‹å¤„ç†**: ç‚¹å‡»"å¼€å§‹å¤„ç†"æŒ‰é’®
5. **æŸ¥çœ‹ç»“æœ**: ç­‰å¾…å¤„ç†å®Œæˆå¹¶ä¸‹è½½ç»“æœ

#### é«˜çº§åŠŸèƒ½
- **AIç›®æ ‡æ£€æµ‹**: é€‰æ‹©"YOLOv8ç›®æ ‡æ£€æµ‹"è‡ªåŠ¨è¯†åˆ«å›¾åƒä¸­çš„ç‰©ä½“
- **AIå›¾åƒåˆ†å‰²**: é€‰æ‹©"YOLOv8å›¾åƒåˆ†å‰²"è¿›è¡Œåƒç´ çº§åˆ†å‰²
- **ç»„åˆæ¨¡å¼**: é€‰æ‹©"YOLOv8ç›®æ ‡æ£€æµ‹+åˆ†å‰²"åŒæ—¶æ˜¾ç¤ºæ£€æµ‹æ¡†å’Œåˆ†å‰²æ©ç 
- **å‚æ•°è°ƒèŠ‚**: é«˜æ–¯æ¨¡ç³Š(3-51)å’Œé”åŒ–(0.1-3.0)æ”¯æŒå¼ºåº¦æ§åˆ¶

### APIæ¥å£

#### å›¾åƒå¤„ç†æ¥å£
```http
POST /upload
Content-Type: multipart/form-data

å‚æ•°:
- image: å›¾åƒæ–‡ä»¶ (æ”¯æŒJPG, PNG, BMPç­‰æ ¼å¼)
- filter: æ»¤é•œç±»å‹
- blur_intensity: é«˜æ–¯æ¨¡ç³Šå¼ºåº¦ (3-51, ä»…bluræ»¤é•œ)
- sharpen_intensity: é”åŒ–å¼ºåº¦ (0.1-3.0, ä»…sharpenæ»¤é•œ)
- uuid: è¯·æ±‚å”¯ä¸€æ ‡è¯†ç¬¦
```

#### å“åº”æ ¼å¼
```http
HTTP/1.1 200 OK
Content-Type: image/jpeg æˆ– image/png
X-UUID: è¯·æ±‚UUID
Content-Length: å›¾åƒæ•°æ®å¤§å°

[å¤„ç†åçš„å›¾åƒæ•°æ®]
```

#### APIä½¿ç”¨ç¤ºä¾‹
```bash
# åŸºç¡€æ»¤é•œ
curl -X POST -F "image=@test.jpg" -F "filter=grayscale" http://localhost:8080/upload

# å¸¦å‚æ•°æ§åˆ¶
curl -X POST -F "image=@test.jpg" -F "filter=blur" -F "blur_intensity=25" http://localhost:8080/upload

# AIåŠŸèƒ½
curl -X POST -F "image=@test.jpg" -F "filter=yolo_detect" http://localhost:8080/upload
curl -X POST -F "image=@test.jpg" -F "filter=yolo_segment" http://localhost:8080/upload
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
ai-image-processor/
â”œâ”€â”€ src/                          # æºä»£ç 
â”‚   â”œâ”€â”€ main.cpp                  # ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ Server.cpp                # HTTPæœåŠ¡å™¨æ ¸å¿ƒ
â”‚   â”œâ”€â”€ HttpParser.cpp            # HTTPè¯·æ±‚è§£æ
â”‚   â”œâ”€â”€ ImageProcessor.cpp        # å›¾åƒå¤„ç†é€»è¾‘
â”‚   â”œâ”€â”€ YOLOv8Detector.cpp        # YOLOv8 AIæ¨¡å‹å°è£…
â”‚   â””â”€â”€ ThreadPool.cpp            # çº¿ç¨‹æ± å®ç°
â”œâ”€â”€ include/                      # å¤´æ–‡ä»¶
â”‚   â”œâ”€â”€ Server.h
â”‚   â”œâ”€â”€ HttpParser.h
â”‚   â”œâ”€â”€ ImageProcessor.h
â”‚   â”œâ”€â”€ YOLOv8Detector.h
â”‚   â””â”€â”€ ThreadPool.h
â”œâ”€â”€ web/                          # Webå‰ç«¯
â”‚   â””â”€â”€ index.html                # ä¸»ç•Œé¢
â”œâ”€â”€ models/                       # AIæ¨¡å‹æ–‡ä»¶
â”‚   â”œâ”€â”€ yolov8n.onnx              # YOLOv8æ£€æµ‹æ¨¡å‹
â”‚   â””â”€â”€ yolov8x-seg.onnx         # YOLOv8åˆ†å‰²æ¨¡å‹
â”œâ”€â”€ test_*.cpp                    # æµ‹è¯•ç¨‹åº
â”œâ”€â”€ *.md                          # æ–‡æ¡£æ–‡ä»¶
â”œâ”€â”€ CMakeLists.txt                # æ„å»ºé…ç½®
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

### æ ¸å¿ƒç»„ä»¶

#### Server (æœåŠ¡å™¨æ ¸å¿ƒ)
- **å¤šç«¯å£ç›‘å¬**: æ”¯æŒåŒæ—¶ç›‘å¬20ä¸ªç«¯å£
- **å¼‚æ­¥å¤„ç†**: åŸºäºepollçš„äº‹ä»¶é©±åŠ¨æ¶æ„
- **è¿æ¥ç®¡ç†**: è‡ªåŠ¨è¿æ¥æ¸…ç†å’Œèµ„æºç®¡ç†

#### ImageProcessor (å›¾åƒå¤„ç†)
- **æ»¤é•œå¼•æ“**: æ”¯æŒ10+ç§å›¾åƒæ»¤é•œæ•ˆæœ
- **å‚æ•°æ§åˆ¶**: åŠ¨æ€å‚æ•°è°ƒèŠ‚å’ŒéªŒè¯
- **æ ¼å¼è½¬æ¢**: è‡ªåŠ¨å›¾åƒæ ¼å¼æ£€æµ‹å’Œè½¬æ¢

#### YOLOv8Detector (AIæ¨ç†)
- **æ¨¡å‹ç®¡ç†**: è‡ªåŠ¨æ¨¡å‹åŠ è½½å’Œç¼“å­˜
- **æ¨ç†ä¼˜åŒ–**: CPUä¼˜åŒ–çš„æ¨ç†å¼•æ“
- **ç»“æœå¤„ç†**: æ£€æµ‹æ¡†å’Œåˆ†å‰²æ©ç ç”Ÿæˆ

#### ThreadPool (å¹¶å‘å¤„ç†)
- **æ™ºèƒ½è°ƒåº¦**: è‡ªåŠ¨CPUæ ¸å¿ƒæ•°æ£€æµ‹
- **ä»»åŠ¡é˜Ÿåˆ—**: é«˜æ•ˆçš„ä»»åŠ¡åˆ†å‘æœºåˆ¶
- **èµ„æºç®¡ç†**: RAIIèµ„æºè‡ªåŠ¨ç®¡ç†

## âš¡ æ€§èƒ½ç‰¹æ€§

### å¹¶å‘æ€§èƒ½
- **å¤šç«¯å£æ”¯æŒ**: åŒæ—¶ç›‘å¬20ä¸ªç«¯å£ (8080-8099)
- **æ™ºèƒ½çº¿ç¨‹æ± **: è‡ªåŠ¨æ£€æµ‹CPUæ ¸å¿ƒæ•°ï¼Œæœ€å°‘16ä¸ªçº¿ç¨‹
- **å¼‚æ­¥å¤„ç†**: åŸºäºepollçš„éé˜»å¡I/O
- **å†…å­˜ä¼˜åŒ–**: é›¶æ‹·è´æ•°æ®ä¼ è¾“

### AIæ¨ç†æ€§èƒ½
- **æ¨¡å‹ä¼˜åŒ–**: ONNXæ ¼å¼ï¼ŒCPUå‹å¥½
- **æ¨ç†åŠ é€Ÿ**: OpenCV DNNæ¨¡å—ä¼˜åŒ–
- **å†…å­˜ç®¡ç†**: æ™ºèƒ½æ¨¡å‹ç¼“å­˜å’Œé‡Šæ”¾
- **æ‰¹å¤„ç†**: æ”¯æŒæ‰¹é‡å›¾åƒå¤„ç†

### å›¾åƒå¤„ç†æ€§èƒ½
- **OpenCVä¼˜åŒ–**: åˆ©ç”¨SIMDæŒ‡ä»¤é›†åŠ é€Ÿ
- **å†…å­˜æ± **: å‡å°‘å†…å­˜åˆ†é…å¼€é”€
- **å¹¶è¡Œå¤„ç†**: å¤šçº¿ç¨‹å›¾åƒå¤„ç†
- **æ ¼å¼ä¼˜åŒ–**: è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜è¾“å‡ºæ ¼å¼

## ğŸ”§ é…ç½®é€‰é¡¹

### æœåŠ¡å™¨é…ç½®
```bash
# ç«¯å£é…ç½®
./image_server 8080 8081 8082  # è‡ªå®šä¹‰ç«¯å£
./image_server                  # é»˜è®¤ç«¯å£ 8080-8099

# çº¿ç¨‹æ± é…ç½® (è‡ªåŠ¨æ£€æµ‹)
# åŸºç¡€çº¿ç¨‹æ•° = CPUæ ¸å¿ƒæ•° Ã— 2
# æœ€å°çº¿ç¨‹æ•° = 16
```

### AIæ¨¡å‹é…ç½®
```cpp
// æ¨¡å‹è·¯å¾„é…ç½®
const std::string DETECTION_MODEL = "models/yolov8n.onnx";
const std::string SEGMENTATION_MODEL = "models/yolov8x-seg.onnx";

// æ¨ç†å‚æ•°
const float CONFIDENCE_THRESHOLD = 0.5f;
const float NMS_THRESHOLD = 0.4f;
const int INPUT_SIZE = 640;
```

### æ»¤é•œå‚æ•°é…ç½®
```cpp
// é«˜æ–¯æ¨¡ç³Šå‚æ•°
const int BLUR_MIN = 3;
const int BLUR_MAX = 51;
const int BLUR_DEFAULT = 15;

// é”åŒ–å‚æ•°
const float SHARPEN_MIN = 0.1f;
const float SHARPEN_MAX = 3.0f;
const float SHARPEN_DEFAULT = 1.0f;
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### ç¼–è¯‘é—®é¢˜
```bash
# OpenCVç‰ˆæœ¬æ£€æŸ¥
pkg-config --modversion opencv4

# ç¡®ä¿DNNæ¨¡å—æ”¯æŒ
opencv_version --modules | grep dnn
```

#### è¿è¡Œæ—¶é—®é¢˜
```bash
# ç«¯å£å ç”¨æ£€æŸ¥
netstat -tlnp | grep :8080

# æƒé™é—®é¢˜
sudo ./image_server  # Linuxä¸‹å¯èƒ½éœ€è¦sudo

# æ¨¡å‹æ–‡ä»¶æ£€æŸ¥
ls -la models/
file models/yolov8n.onnx
```

#### AIåŠŸèƒ½é—®é¢˜
- **æ¨¡å‹åŠ è½½å¤±è´¥**: æ£€æŸ¥ONNXæ–‡ä»¶å®Œæ•´æ€§å’ŒOpenCVç‰ˆæœ¬
- **æ£€æµ‹æ— ç»“æœ**: è°ƒæ•´ç½®ä¿¡åº¦é˜ˆå€¼ï¼Œæ£€æŸ¥å›¾åƒè´¨é‡
- **åˆ†å‰²æ•ˆæœå·®**: ç¡®ä¿å›¾åƒåŒ…å«COCOæ•°æ®é›†æ”¯æŒçš„ç‰©ä½“
- **æ¨ç†é€Ÿåº¦æ…¢**: è€ƒè™‘ä½¿ç”¨GPUç‰ˆæœ¬OpenCVæˆ–ä¼˜åŒ–æ¨¡å‹

### è°ƒè¯•æ¨¡å¼
```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
./image_server 8080 2>&1 | tee server.log

# æ€§èƒ½åˆ†æ
perf record ./image_server 8080
perf report
```

## ğŸ“Š æ€§èƒ½åŸºå‡†

### å¤„ç†æ€§èƒ½ (1920x1080å›¾åƒ)
| æ»¤é•œç±»å‹ | å¤„ç†æ—¶é—´ | å†…å­˜ä½¿ç”¨ | CPUä½¿ç”¨ç‡ |
|----------|----------|----------|-----------|
| ç°åº¦è½¬æ¢ | 5ms | 10MB | 15% |
| é«˜æ–¯æ¨¡ç³Š | 25ms | 15MB | 25% |
| Cannyè¾¹ç¼˜ | 35ms | 20MB | 30% |
| è‰ºæœ¯æ»¤é•œ | 50ms | 25MB | 35% |
| YOLOv8æ£€æµ‹ | 200ms | 100MB | 60% |
| YOLOv8åˆ†å‰² | 1200ms | 200MB | 80% |

### å¹¶å‘æ€§èƒ½
- **å•ç«¯å£**: 1000+ QPS
- **å¤šç«¯å£**: 5000+ QPS
- **å†…å­˜ä½¿ç”¨**: 500MB (åŸºç¡€) + 100MB/ç«¯å£
- **CPUä½¿ç”¨**: 20-80% (å–å†³äºæ»¤é•œç±»å‹)

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/yourusername/ai-image-processor.git
cd ai-image-processor

# åˆ›å»ºå¼€å‘åˆ†æ”¯
git checkout -b feature/your-feature

# å®‰è£…å¼€å‘ä¾èµ–
sudo apt install clang-format cppcheck
```

### ä»£ç è§„èŒƒ
- **C++æ ‡å‡†**: C++17
- **ä»£ç é£æ ¼**: Google C++ Style Guide
- **å‘½åè§„èŒƒ**: camelCase (å˜é‡), PascalCase (ç±»)
- **æ³¨é‡Šè¦æ±‚**: å…³é”®å‡½æ•°å¿…é¡»æœ‰æ–‡æ¡£æ³¨é‡Š

### æäº¤è§„èŒƒ
```bash
# æäº¤æ ¼å¼
git commit -m "feat: add new filter support"
git commit -m "fix: resolve memory leak in image processing"
git commit -m "docs: update API documentation"

# ç±»å‹å‰ç¼€
feat:     æ–°åŠŸèƒ½
fix:      ä¿®å¤bug
docs:     æ–‡æ¡£æ›´æ–°
style:    ä»£ç æ ¼å¼
refactor: é‡æ„ä»£ç 
test:     æµ‹è¯•ç›¸å…³
chore:    æ„å»º/å·¥å…·ç›¸å…³
```

### Pull Requestæµç¨‹
1. Forké¡¹ç›®å¹¶åˆ›å»ºç‰¹æ€§åˆ†æ”¯
2. ç¼–å†™ä»£ç å¹¶æ·»åŠ æµ‹è¯•
3. è¿è¡Œä»£ç æ ¼å¼åŒ–å’Œé™æ€æ£€æŸ¥
4. æäº¤Pull Requestå¹¶æè¿°å˜æ›´
5. ç­‰å¾…ä»£ç å®¡æŸ¥å’Œåˆå¹¶

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [OpenCV](https://opencv.org/) - å¼ºå¤§çš„è®¡ç®—æœºè§†è§‰åº“
- [Ultralytics](https://ultralytics.com/) - YOLOv8æ¨¡å‹å’Œå·¥å…·
- [CMake](https://cmake.org/) - è·¨å¹³å°æ„å»ºç³»ç»Ÿ
- [ONNX](https://onnx.ai/) - å¼€æ”¾ç¥ç»ç½‘ç»œäº¤æ¢æ ¼å¼

## ğŸ“š ç›¸å…³èµ„æº

- [OpenCVå®˜æ–¹æ–‡æ¡£](https://docs.opencv.org/)
- [YOLOv8å®˜æ–¹æ–‡æ¡£](https://docs.ultralytics.com/)
- [ONNX Runtimeæ–‡æ¡£](https://onnxruntime.ai/)
- [é¡¹ç›®Wiki](https://github.com/yourusername/ai-image-processor/wiki)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼

ğŸš€ æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ‰“é€ æ›´å¥½çš„AIå›¾åƒå¤„ç†å¹³å°ï¼